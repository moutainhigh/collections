<!DOCTYPE html PUBLIC>
<html>
<head>
<title></title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="../jazz-ui.js" type="text/javascript"></script> 
<script>
	function add(){
		var data = [{"id":"8888888888888888","birthday":"2014-08-30","resume":"aaa","sex":"1","age":"30","name":"shane flin","hobby":"球","origin":"","org":"1","photo":"","password":"ssss"},
		            {"id":"9999999999999999","birthday":"2014-08-30","resume":"aaa","sex":"1","age":"30","name":"joe","hobby":"球","origin":"","org":"1","photo":"","password":"ssss"}];
		$('div[name="gridpanel"]').gridpanel('addRow', data);
	}
	function update(){
		var data = $('div[name="gridpanel"]').gridpanel('getSelection');
		if(data.length==1){
			var id = data[0]["id"];
			var newdata = {"sex":"2","age":"28","name":"Emily","hobby":"swimming"};
			$('div[name="gridpanel"]').gridpanel('updateRowById',newdata,id);
		}else{
			alert("请选择一条要删除的表格数据。");
		}
	}
	function remove(){
		var data = $('div[name="gridpanel"]').gridpanel('getSelection');
		if(data.length>0){
	    	for(var i=0;i<data.length;i++){
	    		var id = data[i]["id"];
	    		$('div[name="gridpanel"]').gridpanel('removeRowById',id);
	    	}
		}else{
			alert("请选择要删除的表格数据。");
		}
	}
		function changeview1(){
		$('div[name="gridpanel"]').gridpanel('showView', 'table');
	}
	function changeview2(){
		$('div[name="gridpanel"]').gridpanel('showView', 'card');
	}
  	//数据渲染函数
    function renderdata(data){
		for(var i=0;i<data.length;i++){
			data[i]["@toolsopration"] = '<div class="jazz-grid-cell-inner"><a href="javascript:void(0);" onclick="callcustom()">'+data[i]["name"]+'</a></div>';
			data[i]["custom"] = '<div class="jazz-grid-cell-inner"><a href="javascript:void(0);" onclick="callcustom()">'+data[i]["name"]+'</a></div>';
		}
		return data;
    }
</script>
</head>
<body>

<div vtype="gridpanel" name="gridpanel" height="400" width="700"  dataloadcomplete=""  datarender="renderdata()" 
titleDisplay="true" title="查询结果" dataurl="reg.json" isshowselecthelper="true" selecttype="2">
	<div name="toolbar" vtype="toolbar">
		<div name="add_button" vtype="button" text="新增" click="add()"></div>
		<div name="update_button" vtype="button" text="修改"  click="update()"></div>
    	<div name="delete_button" vtype="button" text="删除" click="remove()"></div>
    	<div name="tableview_button" vtype="button" align="right" defaultview="1" text="表格" click="changeview1()"></div>
    	<div name="cardview_button" vtype="button" align="right" defaultview="1" text="卡片" click="changeview2()"></div>
    </div>
	<!-- 表头（多级表头） -->
	<div vtype="gridcolumn" name="grid_column" >
		<div> <!-- 第1行 -->
			<div name="id" key="true" visible="false"  rowspan='2'></div>
			<div text="基本信息" textalign="center" colspan="2"></div>
			<div text="高级信息" textalign="center" colspan="3"></div>
			<div name="custom" text="自定义" textalign="center" rowspan='2' width="100px"></div>
		</div>
		<div> <!-- 第2行 -->
			<div name="name"  text="姓名" textalign="center" sort="true" width="150px"></div>
			<div name="sex" text="性别" textalign="center" sort="true" dataurl='[{"text":"男","value":"1"},{"text":"女","value":"2"}]' width="50px"></div>
			<div name="age" text="年龄" textalign="center" width="50px"></div>
			<div name="org" text="所属机构" textalign="center" dataurl="/JAZZ/dictionary/queryData.do?dicId=org" width="100px"></div>
			<div name="birthday" text="出生日期" textalign="center" datatype="date" dataformat="" width="150px"></div>
		</div>
	</div>
	<!-- 表格 -->
	<div vtype="gridtable" name="grid_table"></div>
	<!-- 表格 -->
	<div vtype="gridcard" name="grid_card" width="205px" height="90px"></div>
	<!-- 分页 -->
	<div vtype="paginator" name="grid_paginator" theme="2" pagerows="10"></div>
</div>

</body>
</html>