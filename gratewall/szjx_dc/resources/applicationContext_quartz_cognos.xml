<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:mvc="http://www.springframework.org/schema/mvc"
	xmlns:context="http://www.springframework.org/schema/context" 
    xmlns:task="http://www.springframework.org/schema/task"
	xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx"
	xmlns:ws="http://jax-ws.dev.java.net/spring/core" xmlns:wss="http://jax-ws.dev.java.net/spring/servlet"
	xsi:schemaLocation="
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
		http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd
		http://www.springframework.org/schema/tx
		http://www.springframework.org/schema/tx/spring-tx-3.2.xsd
	    http://www.springframework.org/schema/aop
	    http://www.springframework.org/schema/aop/spring-aop-3.2.xsd
	    http://jax-ws.dev.java.net/spring/core 
	    http://jax-ws.dev.java.net/spring/core.xsd
        http://jax-ws.dev.java.net/spring/servlet 
        http://jax-ws.dev.java.net/spring/servlet.xsd
        http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd"
	default-autowire="byName">
	
	<!-- 要调用的工作类 -->
 	<bean id="runCognosToDb" class="com.gwssi.report.service.Quartz_RunCognos" ></bean>
	<!-- com.gwssi.report.service.Quartz_RunCognos -->
	<!-- 定义调用对象和调用对象的方法 -->
	 <bean id="jobtask"  
        class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">  
        <property name="targetObject">  
            <ref bean="runCognosToDb" />  
        </property>  
        <property name="targetMethod">  
            <value>worker</value>  
        </property>
        <property name="concurrent">
        	<value>false</value>
        </property>
    </bean>  
    
    <bean id="jobtask12315"  
        class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">  
        <property name="targetObject">  
            <ref bean="runCognosToDb" />  
        </property>  
        <property name="targetMethod">  
            <value>workOf12315</value>  
        </property>
        <property name="concurrent">
        	<value>false</value>
        </property>
    </bean> 
    
     <bean id="jobtask12315g"  
        class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">  
        <property name="targetObject">  
            <ref bean="runCognosToDb" />  
        </property>  
        <property name="targetMethod">  
            <value>workOf12315g</value>  
        </property>
        <property name="concurrent">
        	<value>false</value>
        </property>
    </bean> 
    <bean id="jobtaskGetHomePage"  
        class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">  
        <property name="targetObject">  
            <ref bean="runCognosToDb" />  
        </property>  
        <property name="targetMethod">  
            <value>getHomePage</value>
        </property>
        <property name="concurrent">
        	<value>false</value>
        </property>
    </bean> 
    
    
    
    <bean id="doTime"
		class="org.springframework.scheduling.quartz.CronTriggerFactoryBean">
		<property name="jobDetail">
			<ref bean="jobtask" />
		</property>
		<!-- cron表达式 -->
		<property name="cronExpression">
			<!-- <value>0/10 * * * * ?</value> -->
			  <!-- 每隔10秒执行一次 <value>0/10 * * * * ?</value> --> 
			 <value>0 0 5 26 * ?</value>
			<!--"30 10 1 27 * ?" 每月27号1点10分30秒触发任务 -->
			<!-- "30 10 1 20 10 ? *" 每年10月20号1点10分30秒触发任务 -->
			<!-- "0 15 10 ? * *" 每天上午10:15触发 -->
			<!-- 登记定时，时间为每月26日子早上5点 -->
		</property>
	</bean>
    
	<!-- 定义触发时间 -->
	 <bean id="doTime12315"
		class="org.springframework.scheduling.quartz.CronTriggerFactoryBean">
		<property name="jobDetail">
			<ref bean="jobtask12315" />
		</property>
		<!-- cron表达式 -->
		<property name="cronExpression">
			<value>0 0 5 16 * ?</value>
			  <!-- 每隔10秒执行一次 <value>0/10 * * * * ?</value> --> 
			<!--  <value>0 25 10 1 * ?</value>-->
			<!--"30 10 1 27 * ?" 每月27号1点10分30秒触发任务 -->
			<!-- "30 10 1 20 10 ? *" 每年10月20号1点10分30秒触发任务 -->
			<!-- "0 15 10 ? * *" 每天上午10:15触发 -->
			<!-- 12315定时任务，每月16日早上 -->
		</property>
	</bean>
	
	<!-- 定义触发时间 -->
	 <bean id="doTime12315g"
		class="org.springframework.scheduling.quartz.CronTriggerFactoryBean">
		<property name="jobDetail">
			<ref bean="jobtask12315g" />
		</property>
		<!-- cron表达式 -->
		<property name="cronExpression">
			<value>0 20 5 16 * ?</value>
			  <!-- 每隔10秒执行一次 <value>0/10 * * * * ?</value> --> 
			<!--  <value>0 25 10 1 * ?</value>-->
			<!--"30 10 1 27 * ?" 每月27号1点10分30秒触发任务 -->
			<!-- "30 10 1 20 10 ? *" 每年10月20号1点10分30秒触发任务 -->
			<!-- "0 15 10 ? * *" 每天上午10:15触发 -->
		</property>
	</bean>
	<!-- 定义触发时间 -->
	 <bean id="doTimeGetHome"
		class="org.springframework.scheduling.quartz.CronTriggerFactoryBean">
		<property name="jobDetail">
			<ref bean="jobtaskGetHomePage" />
		</property>
		<!-- cron表达式 -->
		<property name="cronExpression">
			<value>0 10 2 ? * *</value>
			  <!-- 每隔10秒执行一次 <value>0/10 * * * * ?</value> --> 
			<!--  <value>0 25 10 1 * ?</value>-->
			<!--"30 10 1 27 * ?" 每月27号1点10分30秒触发任务 -->
			<!-- "30 10 1 20 10 ? *" 每年10月20号1点10分30秒触发任务 -->
			<!-- "0 15 10 ? * *" 每天上午10:15触发 -->
		</property>
	</bean>
	<!-- 配置项目启动后就执行一次 -->
	<bean id="startdoit" class="org.springframework.scheduling.quartz.SimpleTriggerFactoryBean">  
        <property name="jobDetail" ref="jobtaskGetHomePage" />  
        <property name="startDelay" value="1000" />  
        <property name="repeatInterval" value="0" />  
        <property name="repeatCount" value="0" />  
    </bean>  
	
	<!-- 总管理类 如果将lazy-init='false'那么容器启动就会执行调度程序  -->
 	<bean id="startQuertz" lazy-init="false" autowire="no"
		class="org.springframework.scheduling.quartz.SchedulerFactoryBean">
		<property name="triggers">
			<list>
				<ref bean="doTime" />
				<ref bean="doTime12315" />
				<ref bean="doTime12315g" />
				<ref bean="doTimeGetHome" />
				<ref bean="startdoit" />
			</list>
		</property>
	</bean>

</beans>