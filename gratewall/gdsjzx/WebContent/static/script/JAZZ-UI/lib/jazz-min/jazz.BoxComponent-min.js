(function($,factory){if(jazz.config.isUseRequireJS===true){define(["jquery","jazz.Component"],factory)}else{factory($)}})(jQuery,function($){$.widget("jazz.boxComponent",$.jazz.component,{options:{calculateheight:-1,calculatewidth:-1,calculateinnerheight:-1,calculateinnerwidth:-1,height:-1,width:-1,resize:null},_create:function(){this._super()},_init:function(){this._super()},_getCalculatePercentHeight:function(height){var parent=this.element.parent(),parentinnerheight;if(parent[0].nodeName=="BODY"){parentinnerheight=jazz.util.windowHeight()-(parent.outerHeight(true)-parent.height())}else{parentinnerheight=this.element.parent().height()}var n=parseFloat(height.substring(0,(height+"").length-1));n=(n/100)*parentinnerheight;return Math.floor(n)},_getCalculatePercentWidth:function(width){var parent=this.element.parent(),parentinnerwidth;if(parent[0].nodeName=="BODY"){parentinnerwidth=jazz.util.windowWidth()-(parent.outerWidth(true)-parent.width())}else{parentinnerwidth=parent.width()}var n=parseFloat(width.substring(0,(width+"").length-1));n=(n/100)*parentinnerwidth;return Math.floor(n)},_height:function(){var height=this.options.height;if(jazz.isNormalSize(height)&&this.options.calculateheight!=height){if(jazz.isNumber(height)){this.element.outerHeight(height,true);this.options.calculateheight=height;this.options.calculateinnerheight=this.element.height();this.iscalculateheight=true}else{if(/^\d+(\.\d+)?%$/.test(height)){var n=this._getCalculatePercentHeight(height);if(this.options.calculateheight===n){this.iscalculateheight=false}else{this.element.outerHeight(n,true);this.options.calculateheight=n;this.options.calculateinnerheight=this.element.height();this.iscalculateheight=true}}}}else{this.iscalculateheight=false}},_width:function(){var width=this.options.width;if(this.options.width==-1){width="100%"}if(jazz.isNormalSize(width)&&this.options.calculatewidth!=width){if(jazz.isNumber(width)){this.element.outerWidth(width,true);this.options.calculatewidth=width;this.options.calculateinnerwidth=this.element.width();this.iscalculatewidth=true}else{if(/^\d+(\.\d+)?%$/.test(width)){var n=this._getCalculatePercentWidth(width);if(this.options.calculatewidth===n){this.iscalculatewidth=false}else{this.element.outerWidth(n,true);this.options.calculatewidth=n;this.options.calculateinnerwidth=this.element.width();this.iscalculatewidth=true}}}}else{this.iscalculatewidth=false}},_reflashLayout:function(){if(this.layoutobject){this.layoutobject.reflashLayout(this,this.layoutcontainer,this.options.layoutconfig)}},_reflashChildHeight:function(){$.each(this.getChildrenComponent(),function(i,obj){var element=$(this);var vtype=element.attr("vtype");element.data(vtype)._resizeHeight()})},_reflashChildWidth:function(){$.each(this.getChildrenComponent(),function(i,obj){var element=$(this);var vtype=element.attr("vtype");element.data(vtype)._resizeWidth()})},_resizeHeight:function(){var y="";if(this.content){y=this.content.css("overflow-y");this.content.css("overflow-y","hidden")}this._height();if(this.iscalculateheight){if(this.layoutobject){this.layoutobject.reflashLayoutBefore()}this._reflashLayout();this._reflashChildHeight();if(this.layoutobject){this.layoutobject.reflashLayoutAfter()}}if(this.content){this.content.css("overflow-y",y)}},_resizeWidth:function(){var x="";if(this.content){x=this.content.css("overflow-x");this.content.css("overflow-x","hidden")}this._width();if(this.iscalculatewidth){if(this.layoutobject){this.layoutobject.reflashLayoutBefore()}this._reflashLayout();this._reflashChildWidth();if(this.layoutobject){this.layoutobject.reflashLayoutAfter()}}if(this.content){this.content.css("overflow-x",x)}},_setOption:function(key,value){switch(key){case"width":if(jazz.isNormalSize(value)){this.options.width=value;this._width();if(this.iscalculatewidth){this._reflashLayout();this._reflashChildWidth()}}break;case"height":if(jazz.isNormalSize(value)){this.options.height=value;this._height();if(this.iscalculateheight){this._reflashLayout();this._reflashChildHeight()}}break}this._super(key,value)},layoutSwitch:function(region,showSize){if(this.layoutobject){this.layoutobject.layoutSwitch(region,showSize)}},getPageSize:function(){var xScroll,yScroll;if(window.innerHeight&&window.scrollMaxY){xScroll=window.innerWidth+window.scrollMaxX;yScroll=window.innerHeight+window.scrollMaxY}else{if(document.body.scrollHeight>document.body.offsetHeight){xScroll=document.body.scrollWidth;yScroll=document.body.scrollHeight}else{xScroll=document.body.offsetWidth;yScroll=document.body.offsetHeight}}var windowWidth,windowHeight;if(self.innerHeight){if(document.documentElement.clientWidth){windowWidth=document.documentElement.clientWidth}else{windowWidth=self.innerWidth}windowHeight=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){windowWidth=document.documentElement.clientWidth;windowHeight=document.documentElement.clientHeight}else{if(document.body){windowWidth=document.body.clientWidth;windowHeight=document.body.clientHeight}}}if(yScroll<windowHeight){pageHeight=windowHeight}else{pageHeight=yScroll}if(xScroll<windowWidth){pageWidth=xScroll}else{pageWidth=windowWidth}return{pageWidth:pageWidth,pageHeight:pageHeight,windowWidth:windowWidth,windowHeight:windowHeight}}})});