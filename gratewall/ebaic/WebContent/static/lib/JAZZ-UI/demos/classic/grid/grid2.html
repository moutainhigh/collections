<!DOCTYPE html PUBLIC>
<html>
<head>
<title></title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="../../../external/jquery-ui/jquery-ui-1.9.2.custom.css" rel="stylesheet" type="text/css" />
<link href="../../../lib/themes/default/jazz-all.css" rel="stylesheet" type="text/css" />

<script src="../../../external/jquery-1.8.3.js" type="text/javascript"></script>
<script src="../../../external/jquery-ui-1.9.2.custom.js" type="text/javascript"></script>
<script src="../../../lib/jazz-dependent.js" type="text/javascript"></script>
<script src="../../../lib/jazz-all.js" type="text/javascript"></script>
<script>
	function queryData(){
	alert("1");
//		var formvalue = $('div[name="querycondition"]').formpanel('getValue');
//alert('formvalue=='+jazz.jsonToString(formvalue));
		//$('div[name="gridpanel"]').gridpanel('option', 'dataurlparams', formvalue);

       	$('div[name="gridpanel"]').gridpanel('query', ['formpanel']);
	}
	
    function reset(){
    	$("div[name='formpanel']").formpanel('reset');
    }
    
    function hideColumn(){
    	$('div[name="gridpanel"]').gridpanel('hideColumn', 'sex');
    }
    function showColumn(){
    	$('div[name="gridpanel"]').gridpanel('showColumn', 'sex');
    }
    function callcustom(){
    	alert(234);
    }
    function customsizeColumn(rowData,columnname){
    	var htm = '<div class="jazz-grid-cell-inner"><a href="javascript:void(0);" onclick="callcustom()">'+rowData["name"]+'</a></div>';
    	return htm;
    }
    function updateRow(){
    	var data = {"id":"738a411521d54d36837f2d68bd2488c3","birthday":"","resume":"","sex":"","age":"1231","name":"lihuayun","hobby":"","origin":"","org":"","photo":"","password":""};
    	$('div[name="gridpanel"]').gridpanel('updateRow', data,3);
    }
    function changeview1(){
    	$('div[name="gridpanel"]').gridpanel('showView', 'table');
    }
    function changeview2(){
    	$('div[name="gridpanel"]').gridpanel('showView', 'card');
    }
    
    $(function(){
    	var win = jazz.widget({
    		vtype: 'formpanel',
    		name: 'win',
        	title: '面板三',
        	titleAlign: 'center',
        	titleDisplay: true,
            width: 700,
            height: 260,     
            items:[{
            	vtype: "textfield",
            	name: "t1",
            	label: "姓名",
            	width: 300,
            	rule: "must"
            },{
            	vtype: "textfield",
            	name: "t2",
            	label: "住址",
            	width: 300,
            	rule: "must"        	
            }]
    	});
    	
    	//打开窗口
    	win.open();
    });
</script>
</head>
<body>
<div vtype="formpanel" displayrows="1" name="formpanel"  titledisplay="true" width="1000" layout="table" 
	    layoutconfig="{cols:3, columnwidth: ['300px','300px','*']}"
		height="150" labelStyleClass="labelstyle" title="人员信息">

    <div name='name' vtype="textfield" label="姓名"
		labelAlign="right" rule="must" width="300" editable="false"></div>
	<div name="sex" vtype="comboxfield"
		label="性别"  width="300"
		dataurl="combox.json"></div>
	<div  name='birthday' vtype="datefield"
		label="出生日期"  width="300"
		WdatePicker="{isShowWeek:true}"></div>
	<div id="toolbar" name="toolbar" vtype="toolbar" location="bottom">
	    	<div name="query_button" vtype="button" text="查询" align="center"  icon="../query/queryssuo.png" click="hideColumn()"></div>
	    	<div name="reset_button" vtype="button" text="重置" align="center"  icon="../query/queryssuo.png" click="showColumn()"></div>
	</div>
</div>

<div vtype="gridpanel" name="gridpanel" height="400" width="1000" 
titleDisplay="true" title="查询结果" dataurl="/JAZZ/demo/queryUser.do" isshowselecthelper="true" selecttype="2">
	<div name="toolbar" vtype="toolbar">
		<div name="add_button" vtype="button" text="新增" click="changeview1()"></div>
		<div name="update_button" vtype="button" text="修改"  click="updateRow()"></div>
    	<div name="delete_button" vtype="button" text="删除" click="changeview2()"></div>
    </div>
	<!-- 表头（多级表头） -->
	<div vtype="gridcolumn" name="grid_column" >
		<div> <!-- 第1行 -->
			<div name="id" key="true" visible="false"  rowspan='2'></div>
			<div text="基本信息" textalign="center" colspan="2"></div>
			<div text="高级信息" textalign="center" colspan="3"></div>
			<div name="custom" text="自定义" textalign="center" rowspan='2' sort="true" datatype="" dataformat="" textdisplaytype="" dataurl='' width="150px" columnrender="customsizeColumn()"></div>
		</div>
		<div> <!-- 第2行 -->
			<div name="name"  text="姓名" textalign="center" sort="true" datatype="" dataformat="" textdisplaytype="" dataurl='[{"text":"男","value":"1"},{"text":"女","value":"2"}]' width="200px"></div>
			<div name="sex" text="性别" textalign="center" sort="true" datatype="" dataformat="" textdisplaytype="" dataurl="/JAZZ/dictionary/queryDictionaryData.do?dicId=sex" width="150px"></div>
			<div name="age" text="年龄" textalign="center" datatype="" dataformat="" textdisplaytype="" dataurl='[{"text":"男","value":"1"},{"text":"女","value":"2"}]' width="150px"></div>
			<div name="org" text="所属机构" textalign="center" datatype="" dataformat="" textdisplaytype="" dataurl="/JAZZ/dictionary/queryDictionaryData.do?dicId=org" width="150px"></div>
			<div name="birthday" text="出生日期" textalign="center" datatype="" dataformat="" textdisplaytype="" dataurl='' width="150px"></div>
		</div>
	</div>
	<!-- 表格 -->
	<div vtype="gridtable" name="grid_table"></div>
	<!-- 表格 -->
	<div vtype="gridcard" name="grid_card"></div>
	<!-- 分页 -->
	<div vtype="paginator" name="grid_paginator" theme="2" pagerows="10" classname='jazz-paginator-grid' tablename="grid_table"></div>
</div>
</body>
</html>