<!DOCTYPE html PUBLIC>
<html>
<head>
	<title>Optimus+Jazz Demo</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-COMPATIBLE" content="IE=edge;chrome=1" />
    <link rel="stylesheet" href="../../../static/css/common.css" />
    <link rel="stylesheet" href="../../../static/css/baseInfo.css" />
	<link rel="stylesheet" href="../../../static/css/jquery-ui-1.9.2.custom.css" type="text/css" />
	<link rel="stylesheet" href="../../../static/lib/JAZZ-UI/lib/themes/default/jazz-all.css" type="text/css" />
	<script type='text/javascript' src='../../../static/lib/jquery-1.8.3.js' ></script>
	<script type='text/javascript' src='../../../static/lib/JAZZ-UI/lib/jazz-all.js' ></script>
	<script type="text/javascript" src="../../../static/lib/etpl.source.js"></script>
	<script type="text/javascript" src="../../../static/script/template.js"></script>
	<script type="text/javascript" src="../../../static/script/renderTemplate.js"></script>
	<script type="text/javascript" src="../../../static/script/common.js"></script>
	
	<script>
	/**
	 * 执行查询/刷新列表
	 */
	function query(queryformName,resultGridpanelId, dataurl){
	  $('#'+resultGridpanelId).gridpanel('option', 'dataurl',dataurl);
	  $('#'+resultGridpanelId).gridpanel('query', [ queryformName]);
	}
	/**
	 * 重置表单 
	 */
	function reset(formId){  
		$("#"+formId).formpanel('reset');  
	} 
		
	/**
	 * 列表 数据渲染
	 */
	function entDemoGridpanel_datarender(event,obj) {
		var data = obj.data;
		if(!data){
			return ;
		}
		var row , entId ,entName ;
		for(var i=0;i<data.length;i++){
			row = data[i] ;
			entId = row['entId'] || '';
			entName = row['entName'] || '';
			
			// 操作列
			var optHtml = '<a href="javascript:void(0);" onclick="toEntDemoEdit(\''+entId+'\')">' + "编辑" + '</a>&nbsp;&nbsp;';
			optHtml += '<a href="javascript:void(0);" onclick="toEntDemoDel(\''+entId+'\',\''+entName+'\')">' + "删除" + '</a>&nbsp;&nbsp;';
			row["opt"] = optHtml; 
			
		}
		return data;
	}
	/**
	 * 编辑
	 */
	function toEntDemoEdit(entId){
		if(!entId){
			jazz.info("企业编号为空。");
			return ;
		}
		
	}
	/**
	 * 删除
	 */
	function toEntDemoDel(entId,entName){
		if(!entId){
			jazz.info("企业编号为空，不能删除。");
			return ;
		}
		if(!entName){
			jazz.info("企业名称为空，不能删除。");
			return ;
		}
		jazz.confirm("是否确认删除“"+entName+"”",function(){
			
		});
	}
	</script>

</head>
<body>
	<!-- 查询 Form -->
    <div vtype="formpanel" id="entDemoQueryFormpanel" displayrows="1" name="entDemoQueryFormpanel"
		titleDisplay="true" width="100%" layout="table" height="240px"
		layoutconfig="{cols:2, columnwidth: ['300px','360px']}"
		labelStyleClass="labelstyle" title="企业Demo查询">
		
		<div name='entName' vtype="textfield" label="企业名称" labelwidth="100" labelAlign="10%" width="400"></div> 
		<div name='opType' vtype="comboxfield"  label="业务类型" labelwidth="100" labelAlign="right" width="400" 
			 dataurl='../../../dictionary/queryData.do?dicId=CA16'></div>
		
		<div name='appDateStart' vtype="datefield" label="申请日期起" labelwidth="100" labelAlign="10%" valuetip="" width="400"></div>
 		<div name='appDateEnd' vtype="datefield" label="申请日期止" labelwidth="100" labelAlign="10%" valuetip="" width="400"></div> 
 		
		<div id="toolbar" name="toolbar" vtype="toolbar" location="bottom"
			align="center">
			<div name="query_button" vtype="button" text="查询" 
					icon="../query/queryssuo.png" onclick="query('entDemoQueryFormpanel','entDemoGridpanel','../../../entdemo/getList.do');">
			</div>
			<div name="query_buttons" vtype="button" text="重置" 
					icon="../query/queryssuo.png" onclick="reset('entDemoQueryFormpanel');">
			</div>
		</div>
	</div>
	
	<!-- 查询 Grid -->
	<div vtype="gridpanel" name="entDemoGridpanel" id="entDemoGridpanel"  datarender="entDemoGridpanel_datarender"
		titleDisplay="true" title="分中心预约列表" dataurl="" width="100%" showborder=false >
		<div vtype="gridcolumn" name="grid_column">
			<div>
				<div name='entId' text="企业编号"  textalign="center" visible="false"></div>
				<div name='entName' text="企业名称" textalign="left" width='25%'></div>
				<div name='entType' text="企业类型" textalign="center" width='25%'></div>
				<div name='regOrg' text="审核机关" textalign="left" width='20%'></div>
				<div name='appDate' text="申请日期" textalign="center" width='15%'></div>
				<div name='opt' text="操作" textalign="center" width='12%'></div>
			</div>
			
		</div>
		
		<div vtype="gridtable" name="grid_table"></div>
		<div vtype="paginator" name="grid_paginator" theme="2" pagerows="10"></div>
	</div>


</body>
</html>