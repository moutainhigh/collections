(function($,factory){if(jazz.config.isUseRequireJS===true){define(["jquery","jazz.BoxComponent"],factory)}else{factory($)}})(jQuery,function($){$.widget("jazz.loading",$.jazz.boxComponent,{options:{blank:false,imgsrc:true,text:"正在加载..."},_create:function(){this.ele=$("<div class='jazz-loading-wrap'><div class='jazz-loading-overlay'></div><div class='jazz-loading-img'><div class='jazz-loading-text'>"+this.options.text+"</div></div></div>").appendTo(this.element);if(!this.options.imgsrc){this.ele.children(".jazz-loading-img").css("background","none")}if(this.options.imgsrc!==true&&this.options.imgsrc){this.ele.children(".jazz-loading-img").css({"background-image":"url("+this.options.imgsrc+")"})}},_init:function(){this.changePosition=false;this.oldPosition="";if(this.options.blank===true){this.ele.find(".jazz-loading-img").hide()}else{this.ele.find(".jazz-loading-img").show()}this.show()},_checkPosition:function(){var parent=this.element.parent(),position=parent.css("position");this.oldPosition=this.element.css("position");if(this.element[0].tagName=="BODY"){this.ele.css({position:"fixed"});if(jazz.isIE(6)){this.ele.css({height:$(window).height(),width:$(window).width()})}this.ele.addClass("jazz-ie6-position-fixed")}else{if(position=="inherit"||position=="static"||position==""){if(!this.element.hasClass("jazz-window-modal")){this.element.css({position:"relative"})}this.ele.children(".jazz-loading-overlay").css("height","100%");this.changePosition=true}}},_reverPostion:function(){if(this.changePosition){this.element.css("position",this.oldPosition);this.changePosition=false}},hide:function(){this._reverPostion();this.ele.hide()},show:function(){this._checkPosition();this.ele.show()},destroy:function(){this.element.children().remove();this.element.remove()}})});