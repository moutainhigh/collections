(function($,factory){if(jazz.config.isUseRequireJS===true){define(["jquery"],factory)}else{factory($)}})(jQuery,function($){jazz.dateformat={MONTH_NAMES:new Array("January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),DAY_NAMES:new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat"),toChi:function(year){return year.replace(/0/g,"零").replace(/1/g,"一").replace(/2/g,"二").replace(/3/g,"三").replace(/4/g,"四").replace(/5/g,"五").replace(/6/g,"六").replace(/7/g,"七").replace(/8/g,"八").replace(/9/g,"九")},toChiNum:function(n){var num=n/1;var num_s=num+"";if(num>9&&num<20){num_s="十"+num_s.charAt(1)}else{if(num>19){num_s=num_s.charAt(0)+"十"+num_s.charAt(1)}}num_s=this.toChi(num_s);if(num!=0){num_s=num_s.replace(/零/g,"")}return num_s},toNum:function(year){return year.replace(/零/g,"0").replace(/一/g,"1").replace(/二/g,"2").replace(/三/g,"3").replace(/四/g,"4").replace(/五/g,"5").replace(/六/g,"6").replace(/七/g,"7").replace(/八/g,"8").replace(/九/g,"9")},toNum2:function(year){var l=year.length;if(year=="十"){return 10}if(l==1&&"十"!=year){return this.toNum(year)}if(l==2&&"十"!=year.charAt(l-1)){return this.toNum(year.replace(/十/g,"一"))}if(l==2&&"十"==year.charAt(l-1)){return this.toNum(year.replace(/十/g,"零"))}if(l==3){return this.toNum(year.replace(/十/g,""))}},LZ:function(x){return(x<0||x>9?"":"0")+x},isDate:function(val,format){var date=this.formatStringToDate(val,format);if(date==0){return false}return true},compareDates:function(date1,dateformat1,date2,dateformat2){var d1=this.formatStringToDate(date1,dateformat1);var d2=this.formatStringToDate(date2,dateformat2);if(d1==0||d2==0){alert("format格式转换有问题");return}else{if(d1>d2){return true}}return false},formatDateToString:function(date,format){format=format?format+"":"";var result="";var i_format=0;var c="";var token="";var y=date.getFullYear()+"";var M=date.getMonth()+1;var d=date.getDate();var E=date.getDay();var H=date.getHours();var m=date.getMinutes();var s=date.getSeconds();var yyyy,yy,MMM,MM,dd,hh,h,mm,ss,ampm,HH,H,KK,K,kk,k;var value=new Object();value.y=""+y;value.yyyy=y;value.yy=y.substring(2,4);value.M=M;value.MM=this.LZ(M);value.MMM=this.MONTH_NAMES[M-1];value.NNN=this.MONTH_NAMES[M+11];value.d=d;value.dd=this.LZ(d);value.E=this.DAY_NAMES[E+7];value.EE=this.DAY_NAMES[E];value.H=H;value.HH=this.LZ(H);if(H==0){value.h=12}else{if(H>12){value.h=H-12}else{value.h=H}}value.hh=this.LZ(value.h);if(H>11){value.K=H-12}else{value.K=H}value.k=H+1;value.KK=this.LZ(value.K);value.kk=this.LZ(value.k);if(H>11){value.a="PM"}else{value.a="AM"}value.m=m;value.mm=this.LZ(m);value.s=s;value.ss=this.LZ(s);value.NNNN=this.toChi(value.yyyy);value.NN=this.toChi(value.yy);value.N=this.toChi(value.y);value.Y=this.toChiNum(M);value.R=this.toChiNum(d);value.S=this.toChiNum(value.h);value.T=this.toChiNum(value.H);value.U=this.toChiNum(value.K);value.V=this.toChiNum(value.k);value.F=this.toChiNum(m);value.W=this.toChiNum(s);while(i_format<format.length){c=format.charAt(i_format);token="";while((format.charAt(i_format)==c)&&(i_format<format.length)){token+=format.charAt(i_format++)}if(value[token]!=null){result=result+value[token]}else{result=result+token}}return result},_isInteger:function(val){var digits="1234567890";for(var i=0;i<val.length;i++){if(digits.indexOf(val.charAt(i))==-1){return false}}return true},_isInteger_chi:function(val){var digits="零一二三四五六七八九十";for(var i=0;i<val.length;i++){if(digits.indexOf(val.charAt(i))==-1){return false}}return true},_getInt:function(str,i,minlength,maxlength){for(var x=maxlength;x>=minlength;x--){var token=str.substring(i,i+x);if(token.length<minlength){return null}if(this._isInteger(token)){return token}}return null},_getInt2:function(str,i,minlength,maxlength){for(var x=maxlength;x>=minlength;x--){var token=str.substring(i,i+x);if(token.length<minlength){return null}if(token){return token}}return null},_getInt_month:function(str,i){for(var x=2;x>=1;x--){var token=str.substring(i,i+x);if(token.length<1){return null}if(token.length==1){return token}if(["十一","十二"].contains(token)){return token}}return null},_getInt_date:function(str,i){for(var x=3;x>=1;x--){var token=str.substring(i,i+x);if(token.length<1){return null}if(token.length==1){return token}if(this._isInteger_chi(token)){return token}}return null},formatStringToDate:function(val,format){val=val+"";format=format+"";var i_val=0;var i_format=0;var c="";var token="";var token2="";var x,y;var now=new Date();var year=now.getFullYear();var month=now.getMonth()+1;var date=1;var hh=now.getHours();var mm=now.getMinutes();var ss=now.getSeconds();var ampm="";while(i_format<format.length){c=format.charAt(i_format);token="";while((format.charAt(i_format)==c)&&(i_format<format.length)){token+=format.charAt(i_format++)}if(token=="NNNN"||token=="NN"||token=="N"){if(token=="NNNN"){x=4;y=4}if(token=="NN"){x=2;y=2}if(token=="N"){x=2;y=4}year=this._getInt2(val,i_val,x,y);if(year==null){return 0}year=this.toNum(year);i_val+=year.length;if(year.length==2){if(year>70){year=1900+(year-0)}else{year=2000+(year-0)}}}else{if(token=="Y"){month=this._getInt_month(val,i_val);i_val+=month.length;month=this.toNum2(month);if(month==null||(month<1)||(month>12)){return 0}}else{if(token=="R"){date=this._getInt_date(val,i_val);i_val+=date.length;date=this.toNum2(date);if(date==null||(date<1)||(date>31)){return 0}}else{if(token=="S"){hh=this._getInt_date(val,i_val);i_val+=hh.length;hh=this.toNum2(hh);if(hh==null||(hh<1)||(hh>12)){return 0}}else{if(token=="T"){hh=this._getInt_date(val,i_val);i_val+=hh.length;hh=this.toNum2(hh);if(hh==null||(hh<0)||(hh>23)){return 0}}else{if(token=="U"){hh=this._getInt_date(val,i_val);i_val+=hh.length;hh=this.toNum2(hh);if(hh==null||(hh<0)||(hh>11)){return 0}}else{if(token=="V"){hh=this._getInt_date(val,i_val);i_val+=hh.length;hh=this.toNum2(hh);hh--;if(hh==null||(hh<1)||(hh>24)){return 0}}else{if(token=="F"){mm=this._getInt_date(val,i_val);i_val+=mm.length;mm=this.toNum2(mm);if(mm==null||(mm<0)||(mm>59)){return 0}}else{if(token=="W"){ss=this._getInt_date(val,i_val);i_val+=ss.length;ss=this.toNum2(ss);if(ss==null||(ss<0)||(ss>59)){return 0}}else{if(token=="yyyy"||token=="yy"||token=="y"){if(token=="yyyy"){x=4;y=4}if(token=="yy"){x=2;y=2}if(token=="y"){x=2;y=4}year=this._getInt(val,i_val,x,y);if(year==null){return 0}i_val+=year.length;if(year.length==2){if(year>70){year=1900+(year-0)}else{year=2000+(year-0)}}}else{if(token=="MMM"||token=="NNN"){month=0;for(var i=0;i<this.MONTH_NAMES.length;i++){var month_name=this.MONTH_NAMES[i];if(val.substring(i_val,i_val+month_name.length).toLowerCase()==month_name.toLowerCase()){if(token=="MMM"||(token=="NNN"&&i>11)){month=i+1;if(month>12){month-=12}i_val+=month_name.length;break}}}if((month<1)||(month>12)){return 0}}else{if(token=="EE"||token=="E"){for(var i=0;i<this.DAY_NAMES.length;i++){var day_name=this.DAY_NAMES[i];if(val.substring(i_val,i_val+day_name.length).toLowerCase()==day_name.toLowerCase()){i_val+=day_name.length;break}}}else{if(token=="MM"||token=="M"){month=this._getInt(val,i_val,token.length,2);if(month==null||(month<1)||(month>12)){return 0}i_val+=month.length}else{if(token=="dd"||token=="d"){date=this._getInt(val,i_val,token.length,2);if(date==null||(date<1)||(date>31)){return 0}i_val+=date.length}else{if(token=="hh"||token=="h"){hh=this._getInt(val,i_val,token.length,2);if(hh==null||(hh<1)||(hh>12)){return 0}i_val+=hh.length}else{if(token=="HH"||token=="H"){hh=this._getInt(val,i_val,token.length,2);if(hh==null||(hh<0)||(hh>23)){return 0}i_val+=hh.length}else{if(token=="KK"||token=="K"){hh=this._getInt(val,i_val,token.length,2);if(hh==null||(hh<0)||(hh>11)){return 0}i_val+=hh.length}else{if(token=="kk"||token=="k"){hh=this._getInt(val,i_val,token.length,2);if(hh==null||(hh<1)||(hh>24)){return 0}i_val+=hh.length;hh--}else{if(token=="mm"||token=="m"){mm=this._getInt(val,i_val,token.length,2);if(mm==null||(mm<0)||(mm>59)){return 0}i_val+=mm.length}else{if(token=="ss"||token=="s"){ss=this._getInt(val,i_val,token.length,2);if(ss==null||(ss<0)||(ss>59)){return 0}i_val+=ss.length}else{if(token=="a"){if(val.substring(i_val,i_val+2).toLowerCase()=="am"){ampm="AM"}else{if(val.substring(i_val,i_val+2).toLowerCase()=="pm"){ampm="PM"}else{return 0}}i_val+=2}else{if(val.substring(i_val,i_val+token.length)!=token){return 0}else{i_val+=token.length}}}}}}}}}}}}}}}}}}}}}}}if(i_val!=val.length){return 0}if(month==2){if(((year%4==0)&&(year%100!=0))||(year%400==0)){if(date>29){return 0}}else{if(date>28){return 0}}}if((month==4)||(month==6)||(month==9)||(month==11)){if(date>30){return 0}}if(hh<12&&ampm=="PM"){hh=hh-0+12}else{if(hh>11&&ampm=="AM"){hh-=12}}var newdate=new Date(year,month-1,date,hh,mm,ss);return newdate},formatStringToString:function(val,format1,format2){var tempDate=this.formatStringToDate(val,format1);if(tempDate==0){return val}var returnVal=this.formatDateToString(tempDate,format2);if(returnVal==0){return val}return returnVal}};jazz.numberformat={}});