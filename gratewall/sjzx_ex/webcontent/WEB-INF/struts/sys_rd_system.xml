<?xml version="1.0" encoding="GBK"?>
<!DOCTYPE struts-config SYSTEM "gwssi-struts.dtd">
<struts-config>
  <menu-name>主题管理</menu-name>
  <menu-path>/page/resource/res/rd/metadata/datasource/system/</menu-path>
  <description>主题管理</description>
  <form-beans>
    <form-bean name="SysRdSystemRowsetForm">
      <description>多记录查询</description>
      <form-property prefix="primary-key" name="sys_rd_system_id" type="string" size="32" cannull="false" description="主题ID"/>
      
      <form-property prefix="select-key" name="sys_no" type="string" size="20" cannull="false" description="主题编号"/>
      <form-property prefix="select-key" name="sys_name" type="string" size="100" cannull="false" description="主题名称"/>
      <form-property prefix="select-key" name="db_username" type="string" size="32" cannull="false" description="用户"/>
      <form-property prefix="select-key" name="db_name" type="string" size="32" cannull="false" description="数据源名称"/>
      <form-property prefix="select-key" name="sys_rd_data_source_id" type="string" size="32" cannull="false" description="数据源名称"/>
      <form-property prefix="select-key" name="sys_simple" type="string" size="100" cannull="true" description="业务主题"/>
      
      <form-property prefix="record" name="sys_rd_system_id" type="string" size="32" cannull="false" description="主题ID"/>
      <form-property prefix="record" name="sys_rd_data_source_id" type="string" size="32" cannull="false" description="数据源ID"/>
      <form-property prefix="record" name="sys_no" type="string" size="20" cannull="false" description="主题编号"/>
      <form-property prefix="record" name="sys_name" type="string" size="100" cannull="false" description="主题名称"/>
      <form-property prefix="record" name="sys_simple" type="string" size="100" cannull="false" description="业务系统"/>
      <form-property prefix="record" name="db_name" type="string" size="32" cannull="false" description="数据源名称"/>
      <form-property prefix="record" name="db_username" type="string" size="32" cannull="false" description="用户"/>
      <form-property prefix="record" name="memo" type="string" size="2000" cannull="false" description="备注"/>
      <form-property prefix="record" name="sort" type="int" cannull="false" description="排序"/>
      <form-property prefix="record" name="timestamp" type="string" size="32" cannull="false" description="时间戳"/>
   	  <form-property prefix="record" name="isshow" type="string" size="1" cannull="false" description="是否显示"/>
    </form-bean>
  </form-beans>

  <action-mappings>
  	<action input="query-jc_sys.jsp" name="SysRdSystemRowsetForm" txn-code="8000111" check-type="check" container="default" txn-type="transaction" re-entry="true" log-flag="true">
      <description>查询主题列表</description>
      <step index="10" bean-name="cn.gwssi.dw.rd.metadata.txn.TxnSysRdSystem" func-name="txn8000111" input-node="select-key" output-node="record" description="查询系统列表"/>
      <forward error-code="success" path="query-jc_sys.jsp"/>
      <forward error-code="failure" path="query-jc_sys.jsp"/>
    </action>
    
    <action input="update-jc_sys.jsp" name="SysRdSystemRowsetForm" txn-code="8000112" check-type="check" container="default" txn-type="transaction" re-entry="false" log-flag="true">
      <description>修改主题信息</description>
      <step index="10" bean-name="cn.gwssi.dw.rd.metadata.txn.TxnSysRdSystem" func-name="txn8000112" input-node="record" description="修改系统信息"/>
      <forward error-code="success" path="update-jc_sys.jsp"/>
      <forward error-code="failure" path="update-jc_sys.jsp"/>
    </action>
    
    <action input="insert-jc_sys.jsp" name="SysRdSystemRowsetForm" txn-code="8000113" check-type="check" container="default" txn-type="transaction" re-entry="false" log-flag="true">
      <description>增加主题信息</description>
      <step index="10" bean-name="cn.gwssi.dw.rd.metadata.txn.TxnSysRdSystem" func-name="txn8000113" input-node="record" description="增加系统信息"/>
      <forward error-code="success" path="insert-jc_sys.jsp"/>
      <forward error-code="failure" path="insert-jc_sys.jsp"/>
    </action>
    
    <action input="query-jc_sys.jsp" name="SysRdSystemRowsetForm" txn-code="8000114" check-type="check" container="default" txn-type="transaction" re-entry="true" log-flag="true">
      <description>查询主题用于修改</description>
      <step index="10" bean-name="cn.gwssi.dw.rd.metadata.txn.TxnSysRdSystem" func-name="txn8000114" input-node="primary-key" output-node="record" description="查询系统用于修改"/>
      <forward error-code="success" path="update-jc_sys.jsp"/>
      <forward error-code="failure" path="update-jc_sys.jsp"/>
    </action>
    
    <action input="query-jc_sys.jsp" name="SysRdSystemRowsetForm" txn-code="8000115" check-type="check" container="default" txn-type="transaction" re-entry="false" log-flag="true">
      <description>删除主题信息</description>
      <step index="10" bean-name="cn.gwssi.dw.rd.metadata.txn.TxnSysRdSystem" func-name="txn8000115" input-node="primary-key" description="删除系统信息"/>
      <forward error-code="success" path="/script/deletesuccess.jsp"/>
      <forward error-code="failure" path="/script/deletefailure.jsp"/>
    </action>
  </action-mappings>
</struts-config>

