<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:tx="http://www.springframework.org/schema/tx" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:context="http://www.springframework.org/schema/context" xmlns:p="http://www.springframework.org/schema/p"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd
    http://www.springframework.org/schema/context
    http://www.springframework.org/schema/context/spring-context.xsd">
    <context:annotation-config /> 
	<bean id="dc_dc" class="org.apache.commons.dbcp.BasicDataSource">
		<property name="driverClassName">
			<value>oracle.jdbc.driver.OracleDriver</value>
		</property>
		<property name="url">
			<value>jdbc:oracle:thin:@(DESCRIPTION=
				(ADDRESS=(PROTOCOL=TCP)(HOST=10.0.3.153)(PORT=1521))
				(ADDRESS=(PROTOCOL=TCP)(HOST=10.0.3.159)(PORT=1521))
				(LOAD_BALANCE=yes)(CONNECT_DATA=(SERVER=DEDICATED)
				(SERVICE_NAME=racdb5)))</value>
		</property>
		<property name="username">
			<value>dc_dc</value>
		</property>
		<property name="password">
			<value>dc_dc</value>
		</property>
		<property name="validationQuery">
			<value>select 1 from dual</value>
		</property>
		<property name="testWhileIdle">
			<value>true</value>
		</property>
		<property name="removeAbandoned">
			<value>true</value>
		</property>
		<property name="timeBetweenEvictionRunsMillis">
			<value>30000</value>
		</property>
		<property name="minEvictableIdleTimeMillis">
			<value>200000</value>
		</property>
	</bean>



<bean id="jdbcTemplate"  name="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">
		<property name="dataSource" ref="dc_dc"></property>
	</bean>
	
	
	<bean id="userInfoService"   class="com.gwssi.cxf.ws.auth.UserInfoService">
		<property name="jdbcTemplate" ref="jdbcTemplate"></property>
	</bean>
	

	<bean id="txManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager">
		<property name="dataSource" ref="dc_dc" />
	</bean>

	<import resource="webservicesConfig.xml"/>
	
</beans>