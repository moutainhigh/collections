<?xml version="1.0" encoding="GB2312"?>
<service provider="com.trs.ajaxservice.MessageServiceProvider">

	<method name="delete">	
		<parameter name="ObjectIds" desc="待删除的消息ID序列" type="string" required="true"/>
	</method>
	
	<method name="query">
		<parameter name="ReadFlag" desc="消息状态（未读/已收/已发/全部）" type="int" required="true"/>
		<parameter name="MsgTypes" desc="消息类型（工作流/发布/沟通）" type="string" required="true"/>
		
		<parameter name="Title" desc="消息标题" type="string" required="false" search="true"/>
		<parameter name="MBody" desc="消息内容" type="string" required="false" search="true"/>		
		<parameter name="MsgId" desc="消息ID" type="int" required="false" search="true"/>
		<!--排序字段及方式-->		
		<parameter name="OrderBy" desc="排序字段及方式" type="string" required="false" default="MsgId Desc"/>		
		
		<!-- 检索相关配置 BEGIN -->
		<!-- 检索相关配置 END -->
	</method>
	
	<method name="findByIds" >
		<parameter name="ObjectIds" desc="消息ID序列" type="string" required="true"/>
	</method>
	
	<method name="findById">
		<parameter name="ObjectId" desc="消息ID" type="int" required="true"/>
	</method>

	<method name="hasUnreadMessage" desc="是否有未阅读的消息">
		<parameter name="MsgTypes" desc="消息类型（工作流/发布/沟通）" type="string" required="true"/>
	</method>
	
	<!--
		常量说明:
		MsgType:
		1 : 沟通
		3 : 工作流
		2 : 发布
		
		SendType:
		Message ：在线短消息
		Email 	：邮件
		SMS		: 手机短信
	-->
	<method name="sendMessage" desc="发送消息">
		<parameter name="MsgType" desc="消息类型（工作流/发布/沟通）" type="int" required="true"/>
		<parameter name="Title" desc="标题" type="string" required="true"/>
		<parameter name="MBody" desc="内容" type="string" required="true"/>	
		<parameter name="SendType" desc="发送方式（短消息/邮件/SMS）" type="string" required="true"/>
		
		<!--接收人员-->
		<parameter name="UserIds" desc="接收的用户ID序列" type="string" required="false"/>
		<parameter name="GroupIds" desc="接收的用户组ID序列" type="string" required="false"/>					
	</method>
	
	<method name="setReadFlag" >
		<parameter name="Readed" desc="已读/未读" type="boolean" required="true"/>
		<parameter name="ObjectIds" desc="消息ID序列" type="string" required="true"/>
	</method>
	
	<method name="clearInbox" params-required="false"/>
	<method name="clearOutbox" params-required="false"/>

</service>