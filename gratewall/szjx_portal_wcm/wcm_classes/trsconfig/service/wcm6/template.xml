<?xml version="1.0" encoding="GB2312"?>
<service provider="com.trs.ajaxservice.TemplateServiceProvider" objclass="com.trs.components.common.publish.persistent.template.Template">

	<method name="save" desc="保存指定模板的信息">
		<parameter name="HostType" desc="对象（站点/栏目）类型" type="int" required="false"/>
		<parameter name="HostId" desc="对象（站点/栏目）ID" type="int" required="false"/>	
		<parameter name="ObjectId" desc="模板ID" type="int" required="false" default="0"/>

	</method>

	<method name="delete" desc="删除指定模板">	
		<parameter name="HostType" desc="对象（站点/栏目）类型" type="int" required="false"/>
		<parameter name="HostId" desc="对象（站点/栏目）ID" type="int" required="false"/>	

		<!--默认的参数，可以不写-->
		<parameter name="ObjectIds" desc="模板ID序列" type="string" required="true"/>	
	</method>
	
	<method name="query" desc="获取模板列表">
		<parameter name="HostType" desc="对象（站点/栏目）类型" type="int" required="true"/>
		<parameter name="HostId" desc="对象（站点/栏目）ID" type="int" required="true"/>	
		<parameter name="ContainsChildren" desc="是否包含子对象的" type="boolean" required="false" default="false"/>			
		
		<!--排序字段及方式-->		
		<parameter name="OrderBy" desc="排序字段及方式" type="string" default="lastModifiedTime Desc" required="false"/>		
		
		<parameter name="DateTimeFormat" desc="返回的日期格式" type="string" required="false" default="MM-dd HH:mm"/>		
		<!-- 检索相关配置 BEGIN -->
		<parameter name="TempName" desc="查询的模板名称" type="string" required="false" search="true"
			search-operator="like"/>
		<parameter name="TempDesc" desc="查询的模板描述" type="string" required="false" search="true"
			search-operator="like"/>	
		<parameter name="CrUser" desc="查询的模板创建者" type="string" required="false" search="true"
			search-operator="like"/>					
		<parameter name="TempId" desc="查询的模板Id" type="int" required="false" search="true"
			search-operator="=" exclude-value="-1"/>
		<parameter name="ExcludeTempId" desc="需要排除的模板Id" type="int" required="false" search="true"
			search-operator="&lt;&gt;" exclude-value="0" search-field="TempId"/>			
		<!-- 检索相关配置 END -->

		<!--提取的字段-->		
		<parameter name="SelectFields" desc="获取的字段列表" type="string" required="false"  default="TempId,TempName,TempDesc,TempType,FolderType,FolderId,CrUser,CrTime,lastModifiedTime,lastModifiedUser"/>			
	</method>
	
	<method name="findByIds" >
		<!--默认的参数，可以不写-->
		<parameter name="ObjectIds" desc="模板ID序列" type="string" required="true"/>

		<!--提取的字段-->		
		<parameter name="SelectFields" desc="获取的字段列表" type="string" required="false"  default="TempId,TempName,TempDesc,TempType,FolderType,FolderId,CrUser,CrTime,lastModifiedTime,lastModifiedUser"/>		
	</method>	
	
	<method name="findById" desc="根据模板ID获取模板信息">
		<parameter name="HostType" desc="对象（站点/栏目）类型" type="int" required="false"/>
		<parameter name="HostId" desc="对象（站点/栏目）ID" type="int" required="false"/>	
		<parameter name="ObjectId" desc="模板ID" type="int" required="true"/>

		<!--提取的字段-->		
		<parameter name="SelectFields" desc="获取的字段列表" type="string" required="false"  default="TempId,TempName,TempDesc,TempType,FolderType,FolderId,CrUser,CrTime,TempExt,OutPutFileName,TempText,lastModifiedTime,lastModifiedUser"/>			
	</method>
	<method name="findByIdWithoutText" truename="findById" desc="根据模板ID获取模板信息">
		<!--提取的字段-->		
		<parameter name="SelectFields" desc="获取的字段列表" type="string" required="false"  default="TempId,TempName,TempDesc,TempType,FolderType,FolderId,CrUser,CrTime,TempExt,OutPutFileName,lastModifiedTime,lastModifiedUser"/>			
	</method>

	<!--获取选择单个或者多个模板的操作列表-->
	<method name="getOperators">
		<parameter name="HostType" desc="对象（站点/栏目）类型" type="int" required="true"/>
		<parameter name="HostId" desc="对象（站点/栏目）ID" type="int" required="true"/>	
		<parameter name="ObjectId" desc="模板ID" type="int" required="false"/>
		<parameter name="ObjectIds" desc="模板ID序列" type="string" required="false"/>
	</method>	
	
	<!--获取指定对象可选择的模板列表-->
	<method name="getOptionalTemplates">
		<parameter name="ObjectType" desc="对象（站点/栏目/文档）类型" type="int" required="true" min-value="1"/>
		<parameter name="ObjectId" desc="对象（站点/栏目/文档）ID" type="int" required="true" min-value="1"/>	
		<parameter name="TemplateType" desc="模板类型" type="int" required="true"  min-value="-99"/>			
		
		<!--排序字段及方式-->		
		<parameter name="OrderBy" desc="排序字段及方式" type="string" default="lastModifiedTime Desc" required="false"/>	
				
		<parameter name="DateTimeFormat" desc="返回的日期格式" type="string" required="false" default="MM-dd HH:mm"/>		
		<!-- 检索相关配置 BEGIN -->
		<parameter name="TempName" desc="查询的模板名称" type="string" required="false" search="true"
			search-operator="like"/>
		<parameter name="TempDesc" desc="查询的模板描述" type="string" required="false" search="true"
			search-operator="like"/>	
		<parameter name="CrUser" desc="查询的模板创建者" type="string" required="false" search="true"
			search-operator="like"/>					
		<parameter name="TempId" desc="查询的模板Id" type="int" required="false" search="true"
			search-operator="=" exclude-value="-1"/>
		<!-- 检索相关配置 END -->		
		
		<parameter name="SelectFields" desc="获取的字段列表" type="string" required="false"  default="TempId, TempName ,TempDesc, TempType, CrUser, CrTime, FolderType, FolderId,lastModifiedTime,lastModifiedUser"/>			
		
	</method>	
	
	
	<!--获取指定站点可选择的模板列表-->
	<method name="getSiteOptionalTemplates" truename="getOptionalTemplates">
		<parameter name="ObjectType" desc="对象（站点/栏目/文档）类型" type="int" required="true" min-value="1" default="103"/>
	</method>	
	
	<!--获取指定栏目可选择的模板列表-->
	<method name="getChannelOptionalTemplates" truename="getOptionalTemplates">
		<parameter name="ObjectType" desc="对象（站点/栏目/文档）类型" type="int" required="true" min-value="1" default="101"/>
	</method>	


	<!--获取指定文档可选择的模板列表-->
	<method name="getDocumentOptionalTemplates" truename="getOptionalTemplates">
		<parameter name="ObjectType" desc="对象（站点/栏目/文档）类型" type="int" required="true" min-value="1" default="605"/>
	</method>	
	
	<!-- 将指定对象(站点/栏目)的模板设置同步到所有子对象上 -->
	<method name="impartTemplateConfig" desc="同步模板设置"
	logger="com.trs.ajaxservice.logger.ImpartTemplateLogger">
		<parameter name="ObjectType" desc="对象（站点/栏目）类型" type="int" required="true" min-value="1"/>
		<parameter name="ObjectId" desc="对象（站点/栏目）ID" type="int" required="true" min-value="1"/>	
	</method>	
	
	<method name="queryEmployers" desc="获取指定模板的使用情况">
		<parameter name="ObjectId" desc="模板ID" type="int" required="true" min-value="1"/>	
		
		<!-- 取消分页 -->
		<parameter name="PageSize" desc="分页大小" type="int" required="false" default="-1"/>			
	</method>	
	
	
	<method name="queryNestedTemplates" desc="获取指定模板使用嵌套模板的情况">
		<parameter name="ObjectId" desc="模板ID" type="int" required="true" min-value="1"/>	
		
		<!-- 取消分页 -->
		<parameter name="PageSize" desc="分页大小" type="int" required="false" default="-1"/>			
		
		<!--提取的字段-->		
		<parameter name="SelectFields" desc="获取的字段列表" type="string" required="false"  default="TempId,TempName,TempDesc,TempType, CrUser, CrTime, FolderType, FolderId,lastModifiedTime,lastModifiedUser"/>			
	</method>
	
	<method name="export" desc="导出选中的模板">
		<parameter name="HostType" desc="对象（站点/栏目）类型" type="int" required="true"/>
		<parameter name="HostId" desc="对象（站点/栏目）ID" type="int" required="true"/>	

		<parameter name="ObjectIds" desc="模板ID序列" type="string" required="false"/>	
		<parameter name="ExportAll" desc="是否导出所有" type="boolean" required="false" default="false"/>			
		<parameter name="ContainsChildren" desc="是否包含子对象的" type="boolean" required="false" default="false"/>	<!-- 检索相关配置 BEGIN -->
		<parameter name="TempName" desc="查询的模板名称" type="string" required="false" search="true"
			search-operator="like"/>
		<parameter name="TempDesc" desc="查询的模板描述" type="string" required="false" search="true"
			search-operator="like"/>	
		<parameter name="CrUser" desc="查询的模板创建者" type="string" required="false" search="true"
			search-operator="like"/>					
		<parameter name="TempId" desc="查询的模板Id" type="int" required="false" search="true"
			search-operator="=" exclude-value="-1"/>
		<parameter name="ExcludeTempId" desc="需要排除的模板Id" type="int" required="false" search="true"
			search-operator="&lt;&gt;" exclude-value="0" search-field="TempId"/>			
		<!-- 检索相关配置 END -->
		

	</method>	
	
	<method name="importTemplates" desc="从指定的文件导入模板" logger="com.trs.ajaxservice.logger.TemplateImportLogger">
		<parameter name="HostType" desc="对象（站点/栏目）类型" type="int" required="true"/>
		<parameter name="HostId" desc="对象（站点/栏目）ID" type="int" required="true"/>	
		<parameter name="ImportFile" desc="要导入的文件" type="string" required="true"/>
		<parameter name="SrcFileName" desc="要导入的文件原文件名" type="string" required="true"/>
		<parameter name="FileEncode" desc="编码" type="string" required="false"/>
		<parameter name="ImportMode" desc="模板重名处理模式" type="int" required="false" default=""/>	
		<parameter name="PicMode" desc="模板附件重名处理模式" type="int" required="false" defalt=""/>	
		
	</method>	
	
	<method name="check" desc="校验选中的模板">
		<parameter name="HostType" desc="对象（站点/栏目）类型" type="int" required="false"/>
		<parameter name="HostId" desc="对象（站点/栏目）ID" type="int" required="false"/>	

		<parameter name="ObjectIds" desc="模板ID序列" type="string" required="false"/>	
		<parameter name="CheckAll" desc="是否校验当前对象下所有的模板" type="boolean" required="false"/>			
		<parameter name="ContainsChildren" desc="是否校验子对象的" type="boolean" required="false"/>				
	</method>	
	
	<method name="checkTemplateText" desc="校验指定的内容">
		<parameter name="ObjectId" desc="模板ID" type="int" required="false"/>	
		<parameter name="HostType" desc="对象（站点/栏目）类型" type="int" required="true"/>
		<parameter name="HostId" desc="对象（站点/栏目）ID" type="int" required="true"/>	

		<parameter name="TemplateText" desc="模板内容" type="string" required="true"/>	
	</method>	
	
	
	
	<method name="redistributeAppendixes" desc="同步模板附件" logger="com.trs.ajaxservice.logger.ResyncTemplateApdLogger">
		<parameter name="HostType" desc="对象（站点/栏目）类型" type="int" required="true"/>
		<parameter name="HostId" desc="对象（站点/栏目）ID" type="int" required="true"/>	

		<parameter name="ObjectIds" desc="模板ID序列" type="string" required="false"/>	
		<parameter name="RedistributeAll" desc="是否分发当前对象下所有的模板(包括子对象)" type="boolean" required="false"/>			
	</method>	
	
	<method name="queryArgs" desc="获取站点/栏目的可设置的模板变量">
		<parameter name="HostType" desc="对象（站点/栏目）类型" type="int" required="true"/>
		<parameter name="HostId" desc="对象（站点/栏目）ID" type="int" required="true"/>	
	</method>	
	
	<method name="saveArgument" desc="保存在站点/栏目上设置模板变量值">
		<parameter name="HostType" desc="对象（站点/栏目）类型" type="int" required="true"/>
		<parameter name="HostId" desc="对象（站点/栏目）ID" type="int" required="true"/>	
		<parameter name="TemplateId" desc="模板ID" type="int" required="true"/>			
		
		<parameter name="ParameterName" desc="参数名称" type="string" required="true"/>	
		<parameter name="PrexName" desc="参数前缀(默认为不传入)" type="string" required="false"/>			
		<parameter name="ArgValue" desc="设置的参数值" type="string" required="true"/>					
	</method>	
	
	<method name="queryTemplatesNested" desc="获取嵌套模板的使用情况">
		<parameter name="ObjectId" desc="嵌套模板ID" type="int" required="true" min-value="1"/>	
		
		<!-- 取消分页 -->
		<parameter name="PageSize" desc="分页大小" type="int" required="false" default="-1"/>			
		
		<!--提取的字段-->		
		<parameter name="SelectFields" desc="获取的字段列表" type="string" required="false"  default="TempId,TempName,TempDesc,TempType, CrUser, CrTime, FolderType, FolderId,lastModifiedTime,lastModifiedUser"/>			
	</method>
	
	<method name="setDefaultTemplate" desc="设置对象的默认模板">
		<parameter name="ObjectType" desc="对象（站点/栏目/文档）类型" type="int" required="true"/>
		<parameter name="ObjectId" desc="对象（站点/栏目/文档）ID" type="int" required="true"/>	

		<parameter name="TemplateId" desc="模板ID" type="int" required="true"/>	
		<parameter name="TemplateType" desc="模板类型" type="int" required="true"/>			
	</method>	
	
	<method name="setOtherOutlineTemplates" desc="设置对象的其它概览模板">
		<parameter name="ObjectType" desc="对象（站点/栏目/文档）类型" type="int" required="true"/>
		<parameter name="ObjectId" desc="对象（站点/栏目/文档）ID" type="int" required="true"/>	

		<parameter name="TemplateIds" desc="模板ID序列" type="string" required="true"/>	
	</method>	
	
	<method name="existsSimilarName" desc="通用概览">
		<parameter name="SiteId" desc="站点ID" type="int" required="true"/>		
		<parameter name="ObjectId" desc="模板ID" type="int" required="true"/>	
		<parameter name="TempName" desc="模板名称" type="string" required="true"/>	
	</method>
	
	<!--ge gfc add @ 2007-12-27-->
	<method name="setChannelEmployersOfTemplate" desc="分配模板到指定栏目或站点" provider="com.trs.ajaxservice.TemplateServiceHelperProvider"
	logger="com.trs.ajaxservice.logger.SetEmployersOfTemplateLogger">
		<parameter name="TemplateId" desc="模板ID" type="int" required="true"/>	

		<parameter name="ChannelIds" desc="栏目ID序列" type="string" required="false"/>
		<parameter name="EmployOnSite" desc="是否同时设置站点的模板关系" type="boolean" required="false"/>	
	</method>	
	
	<method name="checkWCAG2TemplateText" desc="校验指定的内容">
		<parameter name="ObjectId" desc="模板ID" type="int" required="false"/>	
		<parameter name="HostType" desc="对象（站点/栏目）类型" type="int" required="false"/>
		<parameter name="HostId" desc="对象（站点/栏目）ID" type="int" required="false"/>	

		<parameter name="TemplateText" desc="模板内容" type="string" required="false"/>	
	</method>
	
</service>