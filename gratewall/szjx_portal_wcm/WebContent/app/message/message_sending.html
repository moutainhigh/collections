<HTML>
<HEAD>
<TITLE>multi-selector for outline-template</TITLE>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script src="../../app/editor/simp_editor_inner.js"></script>
<script src="../js/runtime/myext-debug.js"></script>
<script src="../../app/js/source/wcmlib/core/MsgCenter.js"></script>
<script src="../../app/js/data/locale/system.js"></script>
<script src="../../app/js/data/locale/message.js"></script>
<script src="../../app/js/data/locale/ajax.js"></script>
<script src="../../app/js/source/wcmlib/com.trs.web2frame/AjaxRequest.js"></script>
<script src="../../app/js/source/wcmlib/com.trs.web2frame/TempEvaler.js"></script>
<!-- CarshBoard Inner Start -->
<SCRIPT src="../../app/js/source/wcmlib/Observable.js"></SCRIPT>
<SCRIPT src="../../app/js/source/wcmlib/Component.js"></SCRIPT>
<SCRIPT src="../../app/js/source/wcmlib/crashboard/CrashBoard.js"></SCRIPT>
<SCRIPT src="../../app/js/source/wcmlib/crashboard/CrashBoardAdapter.js"></SCRIPT>
<link href="../../app/css/wcm-widget.css" rel="stylesheet" type="text/css" />
<link href="../../app/js/source/wcmlib/crashboard/resource/crashboard.css" rel="stylesheet" type="text/css" />
<link href="../../app/js/source/wcmlib/button/resource/button.css" rel="stylesheet" type="text/css" />
<!-- CarshBoard Inner End -->
<!--wcm-dialog start-->
<SCRIPT src="../../app/js/source/wcmlib/dialog/Dialog.js"></SCRIPT>
<SCRIPT src="../../app/js/source/wcmlib/dialog/DialogAdapter.js"></SCRIPT>
<link href="../../app/js/source/wcmlib/dialog/resource/dlg.css" rel="stylesheet" type="text/css" />
<!--wcm-dialog end-->
<script language="javascript">
<!--
	window.m_editorCfg = {
		editorName : 'simple_editor',
		html : '',
		Toolbar : 'Abstract',
		autoinit : false
	};
	window.m_cbCfg = {
        btns : [
            {
                text :  wcm.LANG['MESSAGE_CONFIRM'] || '确定',
                cmd : function(){
					 return PageContext.sendMsg();
				}
            },
            {
                text :  wcm.LANG['MESSAGE_CANCEL'] || '取消'
            }
        ]
    };
	try{
		//window.focus();
	}catch(err){}
//-->
</script>
<style type="text/css">
	.liner_row{
		height: 25px;
		line-height: 25px;
		font-size: 12px;
		float: left;
		width: 170px;
		font-family: Georgia;
		overflow: hidden;
		text-overflow:ellipsis;
	}
	.sp_name{
		cursor: pointer;
	}
	.red_alert{
		color: red;
		font-size: 12px;
		margin-left: 2px;
	}
	.readonly_text{
		background: #efefef;
		border: 1px solid #7f9db9;
		color: #010101;
	}
	body{
		background: #ffffff;
		padding:0px;
		margin:0px;
	}
	A:link, A:visited{
		color: #1571D5;
		text-decoration: none;
		border: solid 1px silver;
		padding-left: 5px;
		padding-right: 5px;
		height: 20px;
		line-height: 20px;
		width: 80px;
		text-align: center;
	}
	A:hover{
		color: #ff6600
	}
	.userNew{
		width: 20px;
		background-repeat: no-repeat;
		background-image:url("../images/icon/icon_user_new.gif");
		cursor: pointer;
		overflow:auto;
		display:inline-block;
	}
	.groupNew{
		width: 20px;
		background-repeat: no-repeat;
		background-image:url(../images/icon/icon_group_new.gif);
		cursor: pointer;
		display:inline-block;
	}

</style>
</HEAD>
<script language="javascript" src="./message_sending.js" type="text/javascript"></script>
<BODY>
<form method=post id="fmData">
	<input type="hidden" name="MsgType" value="1">
	<input type="hidden" name="MBody" id="hdContent">
	<input type="hidden" id="hdSendTypes" name="SendType" value="">
	<input type="hidden" id="hdUserIds" name="UserIds" value="">
	<input type="hidden" id="hdUserNames" value="">
	<input type="hidden" id="hdGroupIds" name="GroupIds" value="">
	<input type="hidden" id="hdRoleIds" name="RoleIds" value="">
	<table border=0 align="center" cellspacing=0 cellpadding=3 style="font-size:12px;width:100%;border:0px solid #C7C7C7;margin-top: 10px;">
	<tbody>
		<tr>
			<td colspan="2">
				<div id="onliners" class="container_onliners" style="overflow: auto; padding: 5px; font-size: 14px; font-weight: normal; padding-top: 8px;">
					<table border="0" cellspacing="0" cellpadding="3" style="border-bottom: 1px #efefef dashed; font-size: 14px; width: 100%">
					<tbody>
						<tr>
							<td rowspan="2" width="100px" WCMAnt:param="message_sending.sendto">发消息给</td>
							<td width="20px">

								<span id="selectUsers" onclick="setOwner(0); return false" class="userNew">&nbsp;&nbsp;
								</span>
							</td>
							<td>
								<span WCMAnt:param="message_sending.user" style="display:inline-block;width:70px;">用户：</span>
								<span><input id="txtUsers" type="text" name="" value="" style="width: 200px;"></span>
								<span style="color: gray; font-size: 12px;" WCMAnt:param="message_sending.usercong">(多个用户用逗号“,”分隔)</span> 
							</td>
						</tr>
						<tr>
							<td>
								<span id="selectGroups" class="groupNew" onclick="setOwner(1); return false">&nbsp;&nbsp;
								</span>
							</td>
							<td>
								<span WCMAnt:param="message_sending.orainge" style="display:inline-block;width:70px;">组织：</span>
								<span><input id="txtGroups" readonly class="readonly_text" type="text" name="" value="" style="width: 200px;"></span>
							</td>
						</tr>
						<tr>
							<td colspan="3">
                                <input type="checkbox" name="everyoneRole" value="2" onclick="toggleSelect();"><span WCMAnt:param="message_sending.alluser">所有用户</span>
							</td>
						</tr>
					</tbody>
					</table>
					<table border="0" cellspacing="0" cellpadding="2" style="font-size: 12px; width: 95%; margin-top: 10px;" align="center">
					<tbody>
						<tr>
							<td width="100px" WCMAnt:param="message_sending.subject">标题：</td>
							<td>
								<input id="txtTitle" type="text" name="Title" value="" style="width:380px;">
								<span class="red_alert">*</span>
							</td>
						</tr>
						<tr>
							<td colspan="2" WCMAnt:param="message_sending.content">正文：</td>
						<tr>
							<td colspan="2">
								<iframe id="simple_editor" src="../../app/editor/simp_editor_inner.html" width="100%" height="300px" frameborder="0" tabIndex="-1" style="height:300px">
								</iframe>
								<!--
								<div id="editorContainer" style="width: 440px; height: 150px; overflow: auto; margin-top: 5px;"></div>
								<textarea id="txtContent" name="MBody" value="admin" style="width: 440px; height: 150px; overflow: auto; margin-bottom: 5px;"></textarea><span class="red_alert">*</span>-->
							</td>
						</tr>
						<tr>
							<td style="padding: 1px; width:80%;" colspan="2" align="center">
								<span style="padding-right: 10px;">
									<input type="checkbox" name="SendingType" value="Message" checked>&nbsp;<span WCMAnt:param="message_sending.onlinemes">在线短消息</span>
								</span>
								<span style="padding-right: 10px;">
									<input type="checkbox" name="SendingType" value="Email">&nbsp;<span WCMAnt:param="message_sending.emailmes">电子邮件</span>
								</span>
								<span style="padding-right: 10px;">
									<input type="checkbox" name="SendingType" value="SMS" >&nbsp;<span WCMAnt:param="message_sending.smsmes">手机短信</span>
								</span>
							</td>
						</tr>
					</tbody>
					</table>					
				</div>
			</td>
		</tr>
	</tbody>
	</table>
</form>
</BODY>
</HTML>
