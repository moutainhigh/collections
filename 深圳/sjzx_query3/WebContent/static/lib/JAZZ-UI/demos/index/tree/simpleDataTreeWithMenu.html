<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script src="../common.js" type="text/javascript"></script> 
	<script type="text/javascript">
	
		var setting = {
			data: {
				simpleData: {
					enable: true
				}
			},
			view: {
				fontCss: getFont,
				nameIsHTML: true
			},
			callback: {
				onClick: onClick,
				onRightClick: rightClickZtree,
				onMouseDown: mouseClickDown
			}
		};

		var zNodes =[
			{ id:1, pId:0, name:"父节点1 - 展开", open:true},
			{ id:11, pId:1, name:"父节点11 - 折叠", font:{'font-weight':'bold'}},
			{ id:111, pId:11, name:"叶子节点111"},
			{ id:112, pId:11, name:"叶子节点112"},
			{ id:113, pId:11, name:"叶子节点113"},
			{ id:114, pId:11, name:"叶子节点114"},
			{ id:12, pId:1, name:"<span style='color:blue;margin-right:0px;'>父节点12 </span>--<span style='color:red;margin-right:0px;'>折叠</span>"},
			{ id:121, pId:12, name:"叶子节点121"},
			{ id:122, pId:12, name:"叶子节点122"},
			{ id:123, pId:12, name:"叶子节点123"},
			{ id:124, pId:12, name:"叶子节点124"},
			{ id:13, pId:1, name:"父节点13 - 链接", url:"http://www.baby666.cn", target:"_blank"},
			{ id:2, pId:0, name:"父节点2 - 折叠"},
			{ id:21, pId:2, name:"父节点21 - 展开", open:true},
			{ id:211, pId:21, name:"叶子节点211"},
			{ id:212, pId:21, name:"叶子节点212"},
			{ id:213, pId:21, name:"叶子节点213"},
			{ id:214, pId:21, name:"叶子节点214"},
			{ id:22, pId:2, name:"父节点22 - 折叠"},
			{ id:221, pId:22, name:"叶子节点221"},
			{ id:222, pId:22, name:"叶子节点222"},
			{ id:223, pId:22, name:"叶子节点223"},
			{ id:224, pId:22, name:"叶子节点224"},
			{ id:23, pId:2, name:"父节点23 - 折叠"},
			{ id:231, pId:23, name:"叶子节点231"},
			{ id:232, pId:23, name:"叶子节点232"},
			{ id:233, pId:23, name:"叶子节点233"},
			{ id:234, pId:23, name:"叶子节点234"},
			{ id:3, pId:0, name:"父节点3 - 无跳转链接", url:"", target:"_blank", click:"alert('我是不会跳转的...');"}
		];
		function getFont(treeId, node) {
			return node.font ? node.font : {};
		}
		function onClick(){
			alert('点击事件');
		}
		function rightClickZtree(event, treeId, node){
			alert("右键点击事件");
			$("#menu_01").contextmenu("showContextMenu",event);
			
		}
		function mouseClickDown(){
			$("#menu_01").hide();
		}
		var opt = [{
			text:"CUT",
			iconurl:"../../../themes/default/toolbar/images/cut.png",
			click:function(e){
				alert("aid click....");
			}
		},{
			text:"PENCIL",
			iconurl:"../../../themes/default/toolbar/images/pencil.png",
			click:function(e){
				
			},
			items:[{
					text:"Delphi",
					iconurl:"",
					click:function(e){
						alert("Delphi...");
					}
				},{
					text:"Saarland",
					iconurl:"",
					click:function(e){
			
					}
				},{
					text:"AMMS",
					iconurl:"",
					click:function(e){
			
					}
				}
			]
		},{
			text:"Amesville",
			iconurl:"",
			click:function(e){
			
			}
		}
	];
		
		$(document).ready(function(){
			$("#treeDemo").tree({setting: setting, data: zNodes});
			
			//给树节点添加右键菜单
			$("#menu_01").contextmenu({
		    	vtype:"contextmenu",
				//target: $("#demo a"),
		    	items:opt,
		    	width: 200
		    	//  ,
				//createitems:function(){
				//	return opt;
				//}
		    });
			
			
		});
		
	</script>
 </head>

<body>
<div id="menu_01"></div>
<div id="treeDemo" class="ztree"></div>
<div class="description">描述信息：最简单的树 -- 简单 JSON 数据</div>
<script type="text/javascript">
$(function(){
    //调整父页面iframe高度
    try{
        parent.setWinHeight(300);           
    }catch(e){
        jazz.log(e);
    }
});
</script>
</body>
</html>
