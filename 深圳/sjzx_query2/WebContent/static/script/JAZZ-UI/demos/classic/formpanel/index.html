<!DOCTYPE html PUBLIC>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="../../../external/jquery-ui/jquery-ui-1.9.2.custom.css" rel="stylesheet" type="text/css" />
<link href="../../../lib/themes/default/jazz-all.css" rel="stylesheet" type="text/css" />

<script src="../../../external/jquery-1.8.3.js" type="text/javascript"></script>
<script src="../../../external/jquery-ui-1.9.2.custom.js" type="text/javascript"></script>
<script src="../../../lib/jazz-all.js" type="text/javascript"></script>
<script src="../../../lib/jazz-dependent.js" type="text/javascript"></script>

</head>
<script type="text/javascript">
    var testform = null;
	$(function(){
		jazz.default_upload_url="/JAZZ/servlet/fileupload";
		jazz.default_flash_url="/JAZZ/external/swfupload/swfupload.swf";
		jazz.default_flash9_url="/JAZZ/external/swfuploa/swfupload_fp9.swf";
	
		testform = jazz.widget({
			vtype: 'formpanel',
			name: 'testpanel',
	    	title: '人员信息',
	    	titlealign: 'center',
	    	titledisplay: true,
	        width: 660,
	        height: 260,
	        items:[{
	        	vtype: "textfield",
	        	name: "t1",
	        	width: 300,
	        	label: "姓名",
	        	rule: "must"
	        },{
	        	vtype: "textfield",
	        	name: "t2",
	        	width: 300,
	        	label: "住址",
	        	rule: "must"        	
	        },{
	        	vtype: "checkboxfield",
	        	name: "checkboxfield_name",
	        	width: 300,
	        	label: "爱好",
	        	dataurl:[{checked: true,value: '1',text: '旅游'},{value: '2',text: '足球'},{value: '3',text: '篮球'}]       	
	        }]
		});
		//testform.formpanel('toggleEditable');
	});

    // 重新加载数据
    function reloadData(){
    	$("#formpanel").formpanel('option','dataurl','formpanel.json');
    }
    
    function toggleEditable(){
    	$("#formpanel").formpanel('toggleEditable');
    	//testform.formpanel('toggleEditable');
    }
    function save(){
    	var params = {
   			url: '/JAZZ/demo/saveUser.do',
   			components: ['formpanel'],
       		params: {id:2},
        	callback: function(){
        		alert("保存成功");
        	}	
    	};
    	//$.DataAdapter.submit(params);
    	//var aa = $("#formpanel").formpanel('getValue');
    	//alert(JSON.stringify(aa));
    	var bb = testform.formpanel('getValue');
    	//var bb = $("div[name=testpanel]").formpanel('getValue');
    	alert(JSON.stringify(bb));
    	
    }
    
    function reset(){
    	$("#formpanel").formpanel('reset');
    }

	
</script>
<body>
<div id='demo'>
	<div id="formpanel" name="formpanel" vtype="formpanel" titleDisplay="true" width="660" layout="table" 
	    layoutconfig="{cols:2, columnwidth: ['300px','*']}"
		height="400" labelStyleClass="labelstyle" title="人员信息" >
		<div name='textfield_name' vtype="textfield" label="姓名"
			labelAlign="right" rule="must" width="300" editable="false"></div>
		<div name='textfield_name2' vtype="textfield" label="姓名2"
			labelAlign="right" rule="must" width="300" editable="false"></div>	
		<div name='number_name' vtype="numberfield" label="年龄"
			labelAlign="right" width="300"></div>
		<div name='wdatepicker_name' vtype="datefield"
			label="生日" labelAlign="right" width="300"
			isShowWeek="true" ></div>
		<div name="checkboxfield_name" vtype="checkboxfield"
			label="爱好" labelAlign="right" width="200"
			dataurl="[{checked: true,value: '1',text: '旅游'},{value: '2',text: '足球'},{value: '3',text: '篮球'}]"></div>
		<div name="radiofield_name" vtype="radiofield"
			label="性别" labelAlign="right" width="300"
			dataurl="[{checked: true,value: '1',text: '男'},{value: '2',text: '女'}]"></div>
		<div name='password_name' vtype="passwordfield" label="密码"
			labelAlign="right" width="300"></div>
		<div name='textarea_name'  
			vtype="textareafield" label="简历" labelAlign="right" width="300"></div>
		<div name='combox_name'  rowspan="1"
			vtype="comboxfield" label="下拉框" labelAlign="right" width="300" dataurl="combox.json"></div>
		<div id='combox_tree' name='comboxtree_name' vtype="comboxtreefield" 
			label="下拉树" labelAlign="right" width="300" multiple="true"  onCheck="chktree"  dataurl="comboxtree.json"></div>	
		<div id="attach1" colspan="2" name="attach_name" vtype="attachment" fileuploadlimit="5"></div>	 
        <div name="id" vtype="hiddenfield" value="2333"></div>
        
		<div id="toolbar" name="toolbar" vtype="toolbar" >
			<div id="btn1" name="btn1" vtype="button" text="重新加载数据"  click="reloadData()"></div>
			<div id="btn2" name="btn2" vtype="button" text="切换编辑状态"  click="toggleEditable()"></div>
	    	<div id="btn3" name="btn3" vtype="button" text="保存"  click="save()"></div>
	    	<div id="btn4" name="btn4" vtype="button" text="重置"  click="reset()"></div>
	    </div>
		
	</div>
</div>

</body>
</html>