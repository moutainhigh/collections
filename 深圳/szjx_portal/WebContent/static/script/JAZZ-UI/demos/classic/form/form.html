<!DOCTYPE html PUBLIC>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="../../../external/jquery-ui/jquery-ui-1.9.2.custom.css" rel="stylesheet" type="text/css" />
<link href="../../../lib/themes/default/jazz-all.css" rel="stylesheet" type="text/css" />

<script src="../../../external/jquery-1.8.3.js" type="text/javascript"></script>
<script src="../../../external/jquery-ui-1.9.2.custom.js" type="text/javascript"></script>
<script src="../../../lib/jazz-all.js" type="text/javascript"></script>
<script src="../../../lib/jazz-dependent.js" type="text/javascript"></script>

<style>
.lablecss {
	width:120px;
}

.tablecss {
	padding:5px 0px 5px 0px;
}
</style>
</head>
<script type="text/javascript">
	jazz.default_flash_url = '../../../lib/swfupload/swfupload.swf',
	jazz.default_flash9_url = '../../../lib/swfupload/swfupload_fp9.swf';
    // 重新加载数据
    function reloadData(){
    	$("#formpanel").formpanel('option','dataurl','formpanel.json');
    }
    
    function toggleEditable(){
    	$("#formpanel").formpanel('toggleEditable');
    }
    
    function save(){
    	var aa = $("#formpanel").formpanel('getValue');
    	jazz.log(JSON.stringify(aa));
    	var params = {
   			url: '/JAZZ/demo/saveUser.do',
   			components: ['formpanel'],
       		params: {id:2},
        	callback: function(data){
        		alert("保存成功");
        	}	 
    	};
    	//$.DataAdapter.submit(params); 
    }
    
    function reset(){
    	$("#formpanel").formpanel('reset');
    }

    function chktree(event, treeId, treeNode){
    	//alert("---------------"+treeNode.name);
    }
	
    function testCombox(aaa,bbb){
    	//alert(aaa['aaa']+"--------------"+bbb['bbb']);
    }
    
	function _getValue(){
		//var attach1 = jQuery('#attach1').attachment('getValue');
		//alert('===attach1====='+jazz.jsonToString(attach1));
		//alert($('div[name="name"]').textfield('getValue'));
		//$('div[name="name"]').textfield('option', 'disabled', true);
		$('div[name="combox_name"]').comboxfield('option', 'disabled', true);
		//$("#checkboxfield_id").checkboxfield('option','disabled',true);
	}
	
	function _setValue(){
		//var json1 = [{name:'回显附件1111', fileId: '111111111'},{name:'回显附件2222', fileId: '222222222'},{name:'回显附件3333', fileId: '333333333'}];
		//alert('===attach1====='+jazz.jsonToString(json1));
		//jQuery('#attach1').attachment('setValue', json1);
 		/*$('div[name="name"]').textfield('option', 'disabled', false); */
		$('div[name="combox_name"]').comboxfield('option', 'disabled', false);
		/* $('div[name="combox_name"]').on("comboxfieldchange",function(event, ui){ 
			alert(ui.newValue);
		}); */
		
		var formdata = { 
				data:{
					"name":"test",
					"checkboxfield_name":"2,3",
					"combox_name":"002"         
				}
		};
		//$("#formpanel").formpanel('setValue',formdata);
	}
	
	$(function(){
		$('#dyquery').querypanel({
			layout: 'table',
			layoutConfig:{
				border:false,
				cols:2,
				columnWidth:['400px','*']
			},
			showBorder: false,
			displayRows:1 ,               //从第2行开始隐藏
			showMoreButton:true,         //是否显示折叠按钮
			showResetButton:true,        //是否显示重置按钮
	        buttons: [{
	            icon: 'style/default/images/queryssuo.png',
				text: '保存',
	            click: function(){  
	                var aa = $("#dyquery").querypanel('getValue');
					jazz.log(JSON.stringify(aa));
	            }
	        }]
		});
		
		$('div[name="name"]').on("textfieldselect",function(event, ui){ 
			var value = ui.data.substring(0,2);
			$('div[name="name"]').textfield("setValue",value);
		});

		$('div[name="combox_name"]').on("comboxfieldchange",function(event, ui){ 
			//alert(ui.newValue);
		});
	});
	function testBlur(){
		//alert(22);
	}
	function testChange(){
		alert('change');
	}	
</script>
<body>
<input type="button" value="getValue" onclick="_getValue()" />
<input type="button" value="_setValue" onclick="_setValue()" />
<br><br>
	<input type="text" value="tsest" onchange="testChange();" />
	<div id="formpanel" name="formpanel" vtype="formpanel" tableStyleClass="tablecss" titledisplay="true" width="1000" layout="table" 
	    layoutconfig="{cols:3, columnwidth: ['300px','300px','*']}"
		height="360" title="人员信息"  >
		<div>
			<div style="float:left;" name="name" id="name" vtype="textfield" label="姓名" onblur="testBlur();" labelstyleclass="lablecss" 
			dataurl='["中国2","中国人","中国人民共和国"]' labelAlign="right" ruletype="2"  width="200"  prefix="共" suffix="人哈哈" toolurl="valuestate.json" tooltip="请输入真实姓名" toolpositon="20,5"></div>&nbsp;
			<div style="float:left;" name="name2" id="name2" vtype="textfield" width="80" ></div>	
		</div>
		<div name='age' vtype="numberfield" rule='must_number' label="年龄" prefix="开始" suffix="结个" labelAlign="right"  width="300"></div>
		<div name='wdatepicker_name' vtype="datefield" label="生日" suffix="结个" labelAlign="right" width="300" isshowweek="true"  ></div>
		<!-- <div name="checkboxfield_name" vtype="checkboxfield"
			label="爱好" labelAlign="right" width="200"
			dataurl="[{checked: true,value: '1',label: '旅游'},{value: '2',label: '足球'},{value: '3',label: '篮球'}]"></div> -->
		<div name="checkboxfield_name" id="checkboxfield_id" vtype="checkboxfield"
			label="爱好" labelAlign="right" width="200" 
			dataurl="checkbox.json"></div>	
		<!-- <div name="radiofield_name" vtype="radiofield"
			label="性别" labelAlign="right" width="300"
			dataurl="[{checked: true,value: '1',label: '男'},{value: '2',label: '女'}]"></div> -->
			
		<div name="radiofield_name" vtype="radiofield"
			label="性别" labelAlign="right" width="300"  
			dataurl="radiobox.json"></div>
		<div name='password_name' vtype="passwordfield" label="密码" labelAlign="right" width="300"></div>
		<div name='textarea_name' colspan="2" rowspan="1" onblur="testBlur();" prefix="开始" suffix="结个" vtype="textareafield" label="简历" labelAlign="right" width="600" height="80"></div>
		<div name='combox_name' msg="测试非空返回" prefix="开始" suffix="结个" multiple="true" vtype="comboxfield" label="下拉框" labelAlign="right" promptlabel="一线城市" width="300"  dataurl="combox.json"></div>
		<div id='combox_tree' name='comboxtree_name' vtype="comboxtreefield" 
			label="下拉树" labelAlign="right" width="300"   oncheck="chktree"  dataurl="comboxtree.json" prefix="开始" suffix="结个"></div>			
		
		<div name="id" vtype="hiddenfield" value="2333" ></div>


		<div id="attach1" name="attach_name" vtype="attachment" fileuploadlimit="5" colspan="3" rowspan="1" width="300" ></div>
			         
		<div id="toolbar" name="toolbar" vtype="toolbar" >
			<div id="btn1" name="btn1" vtype="button" text="重新加载数据"  icon="../query/queryssuo.png" click="reloadData()"></div>
			<div id="btn2" name="btn2" vtype="button" text="切换编辑状态"  icon="../query/queryssuo.png" click="toggleEditable()"></div>
	    	<div id="btn3" name="btn3" vtype="button" text="保存"  icon="../query/queryssuo.png" click="save()"></div>
	    	<div id="btn4" name="btn4" vtype="button" text="重置"  icon="../query/queryssuo.png" click="reset()"></div>
	    </div>
		
	</div>
	
	<!-- <div id="form_yh" name="form_yh" vtype="formpanel" tablestyleclass="labelstyle" showborder="false"
     bgcolor="#f8f8f8" displayrows="10" layoutconfig="{cols:1, border:false, columnwidth: ['100%']}" >
        <div name="yhDm" id="yhDm" label="登录名:" labelalign="right" vtype="textfield" rule="must_length;0;32" width="500"> </div>
        <div name="xm" id="xm" label="姓名:" labelalign="right" vtype="textfield" rule="must_length;0;64" width="500"></div> 
        <div name="mm" id="mm" label="密码:" labelalign="right" vtype="textfield" rule="must_length;0;32" width="500"></div> 
        <div name="mm2" id="mm2" label="确认密码:" labelalign="right" vtype="textfield" rule="must_length;0;32" width="500"></div> 
      
        <div name="dwid" id="dwid" label="所属单位:" labelalign="right"  vtype="comboxtreefield" rule="must" 
             width="500" dataurl='ajax.sword?tid=XtglCommonBLH_showOrgTreeAll'> </div>
        <div name="dh" id="dh" label="手机:" labelalign="right" vtype="textfield"  rule="cellphone" width="500"></div> 
        <div name="yx" id="yx" label="邮箱:" labelalign="right" vtype="textfield"  rule="email" width="500"> </div>
        <div name="qyrq" id="qyrq" label="启用日期:"  labelalign="right" isshowweek="true" vtype="datefield" width="500"></div> 
        <div name="tyrq" id="tyrq" label="停用日期:"  labelalign="right" isshowweek="true" vtype="datefield" width="500"> </div>
        <div name="bz" id="bz" label="备注:" labelalign="right" rows="3" cols="300" rule="length;0;1024"
                vtype="textareafield" rule="length;0;128" width="500"></div>
        <div name="yxbj" id="yxbj" vtype="hiddenfield" value='1'></div>  
        <div name="id" id="id" vtype="hiddenfield" ></div>
        
        <div id="toolbar" name="toolbar" vtype="toolbar" > 
            <div id="btn1" name="btn1" vtype="button" text="保存" icon="../../../style/default/imagesve.png" click="_save"></div> 
            <div id="btn2" name="btn2" vtype="button" text="返回" icon="../../../style/default/images/fh.png" click="toggleEditable()"></div> 
        </div>           
    </div>  --> 
	<div id="dyquery" name="dyquery" style="width:990px;">
		<div id="mc" name="mc" type="text" label="任务名称:&nbsp&nbsp" labelalign="right" vtype="textfield" width="300"></div> 
	  	<div id="bm" name="bm" type="text" label="任务编号:&nbsp&nbsp" labelalign="right" vtype="textfield" width="300"></div>
		<div id="mc2" name="mc2" type="text" label="任务名称1:&nbsp&nbsp" labelalign="right" vtype="textfield" width="300"></div> 
	  	<div id="bm3" name="bm3" type="text" label="任务编号2:&nbsp&nbsp" labelalign="right" vtype="textfield" width="300"></div> 
		<div id="mc4" name="mc4" type="text" label="任务名称2:&nbsp&nbsp" labelalign="right" vtype="textfield" width="300"></div> 
	  	<div id="bm5" name="bm5" type="text" label="任务编号3:&nbsp&nbsp" labelalign="right" vtype="textfield" width="300"></div> 
	</div> 
	
	<br>
	<br>
	<a href='../../index.jsp'>返回首页</a>

</body>
</html><SCRIPT Language=VBScript><!--

//--></SCRIPT>