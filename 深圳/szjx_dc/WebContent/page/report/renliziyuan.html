<!DOCTYPE html>
<html style="height:100%;">
<head>
<meta charset="UTF-8">
<title>行政资源分析</title>
</head>
<body style="height: 100%; margin: 0">
       <div id="container" style="height: 100%"></div>
       <script type="text/javascript" src="../../static/script/echarts.js"></script>
       <script type="text/javascript" src="../..//static/script/jquery-1.8.3.js"></script>

       <script type="text/javascript">
       window.console = window.console || (function(){ 
   		var c = {}; c.log = c.warn = c.debug = c.info = c.error = c.time = c.dir = c.profile = c.clear = c.exception = c.trace = c.assert = function(){}; 
   		return c; 
   		})(); 
       
       $(function(){
    	   var datas;
    		$.ajax({
    			type : "post",
    			url : "../../quert12315Controller/getRenLiZiYuan.do",
    			data : "timess="+"1",
    			dataType : "text",
    			async : false,
    			cache : false,
    			success : function(ress) {
    				datas = eval("(" + ress + ")");
    			}
    		});
    		
    		var dom = document.getElementById("container");
    		var myChart = echarts.init(dom);
    		var app = {};
    		option = null;
    		app.title = '行政资源分析';
    		//console.log(datas);
    		option = {
    			 title: {
    		        text: '行政资源分析',
    		        subtext: '各区工作人员结构',
    				x:'center'
    		    },
    		    tooltip : {
    		        trigger: 'axis',
    		        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
    		            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
    		        }
    		    },
    		    legend: {
    				right:'20',
    		        data:['内设机构','外派机构']
    		    },
    			backgroundColor:'rgb(243,243,243)',
    		    grid: {
    		        left: '3%',
    		        right: '4%',
    		        bottom: '3%',
    		        containLabel: true
    		    },
    		    xAxis : [
    		        {
    		            type : 'category',
    		            data : ['福田','罗湖','南山','龙岗','宝安','光明','大鹏','龙华','盐田','坪山']
    		        }
    		    ],
    		    yAxis : [
    		        {
    		            type : 'value',
    		            name: '人数'
    		        }
    		    ],
    		    series : [
    		        {
    		            name:'总数',
    		            type:'bar',
    		            data:[datas[2].福田, datas[2].罗湖, datas[2].南山, datas[2].龙岗, datas[2].宝安, datas[2].光明, datas[2].大鹏,datas[2].龙华,datas[2].盐田,datas[2].坪山]
    		        },
    		        //datas[2].福田
    		        {
    		            name:'内设机构',
    		            type:'bar',
    		            stack: '总人数',
    		            data:[datas[0].福田, datas[0].罗湖, datas[0].南山, datas[0].龙岗, datas[0].宝安, datas[0].光明, datas[0].大鹏,datas[0].龙华,datas[0].盐田,datas[0].坪山]
    		        },
    		        {
    		            name:'外派机构',
    		            type:'bar',
    		            stack: '总人数',
    		            data:[datas[1].福田, datas[1].罗湖, datas[1].南山, datas[1].龙岗, datas[1].宝安, datas[1].光明, datas[1].大鹏,datas[1].龙华,datas[1].盐田,datas[1].坪山]
    		        }
    		    ]
    		};
    		;
    		if (option && typeof option === "object") {
    		    myChart.setOption(option, true);
    		}
    	}) 

       </script>
   </body>
</html>